# mesto-react
# Проектная работа 14 
В данном проекте использовались Node.js, API, Express.js, MongoDB.

## Директории

`/routes` — папка с файлами роутера  
`/controllers` — папка с файлами контроллеров пользователя и карточки   
`/models` — папка с файлами описания схем пользователя и карточки  

Остальные директории вспомогательные, создаются при необходимости разработчиком

## Запуск проекта

`npm run start` — запускает сервер   
`npm run dev` — запускает сервер с hot-reload


### База данных
В файле app.js проект подключен к серверу MongoDB по адресу: mongodb://localhost:27017/mestodb 
mestodb — имя базы данных

### Роутеры
Реализовано роутеры:
GET /users — возвращает всех пользователей
GET /users/:userId - возвращает пользователя по _id
POST /users — создаёт пользователя 

PATCH /users/me — обновляет профиль
PATCH /users/me/avatar — обновляет аватар
PUT /cards/:cardId/likes — поставить лайк карточке
DELETE /cards/:cardId/likes — убрать лайк с карточки 


### Сущности
В проекте две сущности: пользователь и карточки. Созданы схема и модель для каждого.

#### Поля схемы пользователя:
name — имя пользователя, строка от 2 до 30 символов, обязательное поле;
about — информация о пользователе, строка от 2 до 30 символов, обязательное поле;
avatar — ссылка на аватарку, строка, обязательное поле. В следующем спринте вы напишите собственное решение для валидации этого поля.

#### Поля схемы карточки:
name — имя карточки, строка от 2 до 30 символов, обязательное поле;
link — ссылка на картинку, строка, обязательно поле.
owner — ссылка на модель автора карточки, тип ObjectId, обязательное поле;
likes — список лайкнувших пост пользователей, массив ObjectId, по умолчанию — пустой массив (поле default);
createdAt — дата создания, тип Date, значение по умолчанию Date.now.


### Обработка ошибок
400 — переданы некорректные данные в методы создания карточки, пользователя, обновления аватара пользователя или профиля;
404 — карточка или пользователь не найден.
500 — ошибка по-умолчанию.
